{
  "db_name": "SQLite",
  "query": "\n        SELECT\n            t.id AS \"id: _\",\n            t.user_id AS \"user_id: _\",\n            t.temporary_reservation_id AS \"temporary_reservation_id: _\",\n            t.product_id AS \"product_id: _\",\n            t.price AS \"price\",\n            t.payment_key AS \"payment_key\",\n            t.created_at AS \"created_at: _\",\n            t.confirmed_at AS \"confirmed_at: _\",\n            t.refund_price AS \"refund_price\",\n            t.refunded_at AS \"refunded_at: _\"\n        FROM\n            toss_payments_transaction \"t\"\n        JOIN product \"p\" ON\n            t.product_id = p.id AND\n            p.discriminator = 'booking_amendment'\n        JOIN booking_amendment \"ba\" ON\n            ba.id = p.id\n        WHERE\n            ba.booking_id = ?1 AND\n            t.confirmed_at < ?2 AND\n            (t.refunded_at IS NULL OR t.refunded_at > ?2)\n        ",
  "describe": {
    "columns": [
      {
        "name": "id: _",
        "ordinal": 0,
        "type_info": "Blob"
      },
      {
        "name": "user_id: _",
        "ordinal": 1,
        "type_info": "Blob"
      },
      {
        "name": "temporary_reservation_id: _",
        "ordinal": 2,
        "type_info": "Blob"
      },
      {
        "name": "product_id: _",
        "ordinal": 3,
        "type_info": "Blob"
      },
      {
        "name": "price",
        "ordinal": 4,
        "type_info": "Integer"
      },
      {
        "name": "payment_key",
        "ordinal": 5,
        "type_info": "Text"
      },
      {
        "name": "created_at: _",
        "ordinal": 6,
        "type_info": "Datetime"
      },
      {
        "name": "confirmed_at: _",
        "ordinal": 7,
        "type_info": "Datetime"
      },
      {
        "name": "refund_price",
        "ordinal": 8,
        "type_info": "Integer"
      },
      {
        "name": "refunded_at: _",
        "ordinal": 9,
        "type_info": "Datetime"
      }
    ],
    "parameters": {
      "Right": 2
    },
    "nullable": [
      false,
      false,
      true,
      true,
      false,
      true,
      false,
      true,
      true,
      true
    ]
  },
  "hash": "94e69977ba9f48228a20b24b8663bf55ac1fbff6f2ef67e30c4863b2bcb221fa"
}
